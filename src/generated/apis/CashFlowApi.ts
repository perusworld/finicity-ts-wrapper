/* tslint:disable */
/* eslint-disable */
/**
 * Open Banking
 * OpenAPI specification for Finicity APIs.  Open Banking solutions in the US are provided by Finicity, a Mastercard company.
 *
 * The version of the OpenAPI document: 1.13.9
 * Contact: apisupport@mastercard.com
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  CashFlowReportAck,
  CashFlowReportConstraints,
  ErrorMessage,
} from '../models/index';
import {
    CashFlowReportAckFromJSON,
    CashFlowReportAckToJSON,
    CashFlowReportConstraintsFromJSON,
    CashFlowReportConstraintsToJSON,
    ErrorMessageFromJSON,
    ErrorMessageToJSON,
} from '../models/index';

export interface GenerateCashFlowBusinessReportRequest {
    customerId: string;
    cashFlowReportConstraints: CashFlowReportConstraints;
    callbackUrl?: string;
}

export interface GenerateCashFlowPersonalReportRequest {
    customerId: string;
    cashFlowReportConstraints: CashFlowReportConstraints;
    callbackUrl?: string;
}

/**
 * 
 */
export class CashFlowApi extends runtime.BaseAPI {

    /**
     * Generate a Cash Flow Report (Business) report for all checking and savings under the given customer. This service retrieves up to two years of transaction history for the given account. It then uses this information to generate the CFR report. A consumer is not required to generate this report.  This report is not provided under FCRA rules, and this report is not available in the Finicity Consumer Portal for the borrower to view.  If no account type of checking or savings is found, the service will return HTTP 400 Bad Request.  _Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)
     * Generate Cash Flow Report - Business
     */
    async generateCashFlowBusinessReportRaw(requestParameters: GenerateCashFlowBusinessReportRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CashFlowReportAck>> {
        if (requestParameters.customerId === null || requestParameters.customerId === undefined) {
            throw new runtime.RequiredError('customerId','Required parameter requestParameters.customerId was null or undefined when calling generateCashFlowBusinessReport.');
        }

        if (requestParameters.cashFlowReportConstraints === null || requestParameters.cashFlowReportConstraints === undefined) {
            throw new runtime.RequiredError('cashFlowReportConstraints','Required parameter requestParameters.cashFlowReportConstraints was null or undefined when calling generateCashFlowBusinessReport.');
        }

        const queryParameters: any = {};

        if (requestParameters.callbackUrl !== undefined) {
            queryParameters['callbackUrl'] = requestParameters.callbackUrl;
        }

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["Finicity-App-Token"] = this.configuration.apiKey("Finicity-App-Token"); // FinicityAppToken authentication
        }

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["Finicity-App-Key"] = this.configuration.apiKey("Finicity-App-Key"); // FinicityAppKey authentication
        }

        const response = await this.request({
            path: `/decisioning/v2/customers/{customerId}/cashFlowBusiness`.replace(`{${"customerId"}}`, encodeURIComponent(String(requestParameters.customerId))),
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: CashFlowReportConstraintsToJSON(requestParameters.cashFlowReportConstraints),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CashFlowReportAckFromJSON(jsonValue));
    }

    /**
     * Generate a Cash Flow Report (Business) report for all checking and savings under the given customer. This service retrieves up to two years of transaction history for the given account. It then uses this information to generate the CFR report. A consumer is not required to generate this report.  This report is not provided under FCRA rules, and this report is not available in the Finicity Consumer Portal for the borrower to view.  If no account type of checking or savings is found, the service will return HTTP 400 Bad Request.  _Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)
     * Generate Cash Flow Report - Business
     */
    async generateCashFlowBusinessReport(requestParameters: GenerateCashFlowBusinessReportRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CashFlowReportAck> {
        const response = await this.generateCashFlowBusinessReportRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Generate a Cash Flow Report (Personal) report for all checking and savings under the given customer. This service retrieves up to two years of transaction history for the given account. It then uses this information to generate the CFR report.  This report is provided under FCRA rules, with Finicity acting as the CRA (Consumer Reporting Agency). If an individual account is included in the report - for example, with an individual acting as an personal guarantor on the loan - then this version of the report should be used. In case of an adverse action on the loan where the decision was based on this report, then the borrower can be referred to the [Finicity Consumer Portal](https://consumer.finicityreports.com) where they can view this report and submit a dispute if they feel any information in this report is inaccurate.  Before calling this API, a consumer must be created for the given customer ID (see Consumers APIs).  If no account type of checking or savings is found, the service will return HTTP 400 Bad Request.  _Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)
     * Generate Cash Flow Report - Personal
     */
    async generateCashFlowPersonalReportRaw(requestParameters: GenerateCashFlowPersonalReportRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CashFlowReportAck>> {
        if (requestParameters.customerId === null || requestParameters.customerId === undefined) {
            throw new runtime.RequiredError('customerId','Required parameter requestParameters.customerId was null or undefined when calling generateCashFlowPersonalReport.');
        }

        if (requestParameters.cashFlowReportConstraints === null || requestParameters.cashFlowReportConstraints === undefined) {
            throw new runtime.RequiredError('cashFlowReportConstraints','Required parameter requestParameters.cashFlowReportConstraints was null or undefined when calling generateCashFlowPersonalReport.');
        }

        const queryParameters: any = {};

        if (requestParameters.callbackUrl !== undefined) {
            queryParameters['callbackUrl'] = requestParameters.callbackUrl;
        }

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["Finicity-App-Token"] = this.configuration.apiKey("Finicity-App-Token"); // FinicityAppToken authentication
        }

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["Finicity-App-Key"] = this.configuration.apiKey("Finicity-App-Key"); // FinicityAppKey authentication
        }

        const response = await this.request({
            path: `/decisioning/v2/customers/{customerId}/cashFlowPersonal`.replace(`{${"customerId"}}`, encodeURIComponent(String(requestParameters.customerId))),
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: CashFlowReportConstraintsToJSON(requestParameters.cashFlowReportConstraints),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CashFlowReportAckFromJSON(jsonValue));
    }

    /**
     * Generate a Cash Flow Report (Personal) report for all checking and savings under the given customer. This service retrieves up to two years of transaction history for the given account. It then uses this information to generate the CFR report.  This report is provided under FCRA rules, with Finicity acting as the CRA (Consumer Reporting Agency). If an individual account is included in the report - for example, with an individual acting as an personal guarantor on the loan - then this version of the report should be used. In case of an adverse action on the loan where the decision was based on this report, then the borrower can be referred to the [Finicity Consumer Portal](https://consumer.finicityreports.com) where they can view this report and submit a dispute if they feel any information in this report is inaccurate.  Before calling this API, a consumer must be created for the given customer ID (see Consumers APIs).  If no account type of checking or savings is found, the service will return HTTP 400 Bad Request.  _Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)
     * Generate Cash Flow Report - Personal
     */
    async generateCashFlowPersonalReport(requestParameters: GenerateCashFlowPersonalReportRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CashFlowReportAck> {
        const response = await this.generateCashFlowPersonalReportRaw(requestParameters, initOverrides);
        return await response.value();
    }

}
